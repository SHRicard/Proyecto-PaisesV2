{"ast":null,"code":"var _jsxFileName = \"/home/censored/Escritorio/ProyectoPaisesSH/client/src/Components/Catalogue/Catalogue.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getAllCountries, cambioDePagina, searchCountry } from \"../../Redux/Actions\";\nimport Card from \"../Card/Card.js\";\nimport Error from \"../Error/Error.js\";\nimport \"./Catalogue.css\"; // \"pagina=1&order=null&tipoOrder=null&continente=null&tipoDeTurismo=null\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst subRegiones = [\"Eastern Africa\", \"Middle Africa\", \"Northern Africa\", \"Southern Africa\", \"Western Africa\", \"Caribbean\", \"Central America\", \"North America\", \"South America\", \"Central Asia\", \"Eastern Asia\", \"South-Eastern Asia\", \"Southern Asia\", \"Western Asia\", \"Eastern Europe\", \"Northern Europe\", \"Southern Europe\", \"Western Europe\", \"Australia and New Zealand\", \"Melanesia\", \"Micronesia\", \"Polynesia\"];\n\nconst Catalogue = () => {\n  _s();\n\n  var _dataCountry$rows;\n\n  const [query, setQuery] = useState({\n    pagina: 1,\n    order: null,\n    tipoOrder: null,\n    continente: null,\n    tipoDeTurismo: null\n  });\n  const [paginado, setPaginado] = useState([1]);\n  const [orden, setOrden] = useState(null);\n  const [tipoDeOrden, setTipoDeOrden] = useState(null);\n  const [subRegion, setSubRegion] = useState(null);\n  const [temporada, setTemporada] = useState(null);\n  let dispatch = useDispatch();\n  let parametroDeBusqueda = useSelector(state => state.parametroDeBusqueda);\n  let dataCountry = useSelector(state => state.countries);\n  let numeroDePagina = useSelector(state => state.numeroPagina);\n  let paginaActual = useSelector(state => state.paginaActual);\n  useEffect(() => {\n    setPaginado(Array.from({\n      length: numeroDePagina\n    }, (el, index) => index + 1));\n  }, [numeroDePagina]);\n  useEffect(() => {\n    dispatch(cambioDePagina(1));\n    setQuery({\n      pagina: 1,\n      order: null,\n      tipoOrder: null,\n      continente: null,\n      tipoDeTurismo: null\n    });\n  }, [dispatch, parametroDeBusqueda, orden, tipoDeOrden, subRegion, temporada]);\n  useEffect(() => {\n    setOrden(null);\n    setTipoDeOrden(null);\n    setSubRegion(null);\n    setTemporada(null);\n  }, [parametroDeBusqueda]);\n  useEffect(() => {\n    let paramsSearch = `pagina=${query.pagina}`;\n\n    if (!!orden && !!tipoDeOrden) {\n      paramsSearch += `&orden=${orden}&tipoDeOrden=${tipoDeOrden}`;\n    }\n\n    if (!!subRegion) {\n      paramsSearch += `&subRegion=${subRegion}`;\n    }\n\n    if (!!temporada) {\n      paramsSearch += `&temporada=${temporada}`;\n    }\n\n    if (!!parametroDeBusqueda) {\n      dispatch(searchCountry(`${parametroDeBusqueda}&${paramsSearch}`));\n    } else {\n      dispatch(getAllCountries(`?${paramsSearch}`));\n    }\n  }, [dispatch, query.pagina, parametroDeBusqueda, orden, tipoDeOrden, subRegion, temporada]); // useEffect(() => {\n  //   if (numeroDePagina > 20) {\n  //     dispatch(\n  //       getAllCountries(\n  //         `?pagina=${query.pagina}&order=${query.order}&tipoOrder=${query.tipoOrder}&continente=${query.continente}&tipoDeTurismo=${query.tipoDeTurismo}`\n  //       )\n  //     );\n  //   } else {\n  //     dispatch(\n  //       searchCountry(\n  //         `${parametroDeBusqueda}&pagina=${query.pagina}&order=${query.order}&tipoOrder=${query.tipoOrder}&continente=${query.continente}&tipoDeTurismo=${query.tipoDeTurismo}}`\n  //       )\n  //     );\n  //   }\n  // }, [dispatch, numeroDePagina, paginaActual, query]);\n\n  const changePage = pagina => {\n    setQuery(prevState => {\n      return { ...prevState,\n        pagina\n      };\n    });\n    dispatch(cambioDePagina(pagina - 1));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cardDetailCatalogo\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cardBoxConten\",\n      children: [dataCountry === null || dataCountry === void 0 ? void 0 : (_dataCountry$rows = dataCountry.rows) === null || _dataCountry$rows === void 0 ? void 0 : _dataCountry$rows.map(country => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          props: country\n        }, country.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 18\n        }, this);\n      }), !dataCountry.count && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxButtonPage\",\n      children: paginado === null || paginado === void 0 ? void 0 : paginado.map(page => {\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          id: \"PaginaActual\",\n          onClick: () => changePage(page),\n          style: {\n            color: ` ${page === paginaActual + 1 ? \"#fff\" : \"#000\"}`\n          },\n          children: page\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"boxButtonFilter\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOrden(\"asc\"),\n        className: `${orden === \"asc\" ? \"filterSelect\" : \"bottonFiltro\"}`,\n        children: \"Ascendente \\u21E7\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setOrden(\"desc\"),\n        className: `${orden === \"desc\" ? \"filterSelect\" : \"bottonFiltro\"}`,\n        children: \"Descendente \\u21E9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTipoDeOrden(\"population\"),\n        className: `${tipoDeOrden === \"population\" ? \"filterSelect\" : \"bottonFiltro\"}`,\n        children: \"Poblacion\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setTipoDeOrden(\"name\"),\n        className: `${tipoDeOrden === \"name\" ? \"filterSelect\" : \"bottonFiltro\"}`,\n        children: \"Nombre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"continentes\",\n      name: \"continentes\",\n      value: subRegion,\n      onChange: e => setSubRegion(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), subRegiones.map(subRegion => {\n        return /*#__PURE__*/_jsxDEV(\"option\", {\n          id: \"opcContienente\",\n          value: subRegion,\n          children: subRegion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      id: \"temporadaC\",\n      name: \"season\",\n      value: temporada,\n      onChange: e => setTemporada(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        id: \"opcTemporada\",\n        value: null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        id: \"opcTemporada\",\n        value: \"verano\",\n        children: \"Verano\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        id: \"opcTemporada\",\n        value: \"oto\\xF1o\",\n        children: \"Oto\\xF1o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        id: \"opcTemporada\",\n        value: \"invierno\",\n        children: \"Invierno\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        id: \"opcTemporada\",\n        value: \"primavera\",\n        children: \"Primavera\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Catalogue, \"e7TvocHnTrrI4yNCh1jcNsBYoG0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Catalogue;\nexport default Catalogue;\n\nvar _c;\n\n$RefreshReg$(_c, \"Catalogue\");","map":{"version":3,"sources":["/home/censored/Escritorio/ProyectoPaisesSH/client/src/Components/Catalogue/Catalogue.js"],"names":["useEffect","useState","useDispatch","useSelector","getAllCountries","cambioDePagina","searchCountry","Card","Error","subRegiones","Catalogue","query","setQuery","pagina","order","tipoOrder","continente","tipoDeTurismo","paginado","setPaginado","orden","setOrden","tipoDeOrden","setTipoDeOrden","subRegion","setSubRegion","temporada","setTemporada","dispatch","parametroDeBusqueda","state","dataCountry","countries","numeroDePagina","numeroPagina","paginaActual","Array","from","length","el","index","paramsSearch","changePage","prevState","rows","map","country","id","count","page","color","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  getAllCountries,\n  cambioDePagina,\n  searchCountry,\n} from \"../../Redux/Actions\";\nimport Card from \"../Card/Card.js\";\nimport Error from \"../Error/Error.js\";\nimport \"./Catalogue.css\";\n// \"pagina=1&order=null&tipoOrder=null&continente=null&tipoDeTurismo=null\"\n\nconst subRegiones = [\n  \"Eastern Africa\",\n  \"Middle Africa\",\n  \"Northern Africa\",\n  \"Southern Africa\",\n  \"Western Africa\",\n  \"Caribbean\",\n  \"Central America\",\n  \"North America\",\n  \"South America\",\n  \"Central Asia\",\n  \"Eastern Asia\",\n  \"South-Eastern Asia\",\n  \"Southern Asia\",\n  \"Western Asia\",\n  \"Eastern Europe\",\n  \"Northern Europe\",\n  \"Southern Europe\",\n  \"Western Europe\",\n  \"Australia and New Zealand\",\n  \"Melanesia\",\n  \"Micronesia\",\n  \"Polynesia\",\n];\n\nconst Catalogue = () => {\n  const [query, setQuery] = useState({\n    pagina: 1,\n    order: null,\n    tipoOrder: null,\n    continente: null,\n    tipoDeTurismo: null,\n  });\n  const [paginado, setPaginado] = useState([1]);\n  const [orden, setOrden] = useState(null);\n  const [tipoDeOrden, setTipoDeOrden] = useState(null);\n  const [subRegion, setSubRegion] = useState(null);\n  const [temporada, setTemporada] = useState(null);\n  let dispatch = useDispatch();\n  let parametroDeBusqueda = useSelector((state) => state.parametroDeBusqueda);\n  let dataCountry = useSelector((state) => state.countries);\n  let numeroDePagina = useSelector((state) => state.numeroPagina);\n  let paginaActual = useSelector((state) => state.paginaActual);\n\n  useEffect(() => {\n    setPaginado(\n      Array.from({ length: numeroDePagina }, (el, index) => index + 1)\n    );\n  }, [numeroDePagina]);\n\n  useEffect(() => {\n    dispatch(cambioDePagina(1));\n    setQuery({\n      pagina: 1,\n      order: null,\n      tipoOrder: null,\n      continente: null,\n      tipoDeTurismo: null,\n    });\n  }, [dispatch, parametroDeBusqueda, orden, tipoDeOrden, subRegion, temporada]);\n\n  useEffect(() => {\n    setOrden(null);\n    setTipoDeOrden(null);\n    setSubRegion(null);\n    setTemporada(null);\n  }, [parametroDeBusqueda]);\n\n  useEffect(() => {\n    let paramsSearch = `pagina=${query.pagina}`;\n    if (!!orden && !!tipoDeOrden) {\n      paramsSearch += `&orden=${orden}&tipoDeOrden=${tipoDeOrden}`;\n    }\n    if (!!subRegion) {\n      paramsSearch += `&subRegion=${subRegion}`;\n    }\n    if (!!temporada) {\n      paramsSearch += `&temporada=${temporada}`;\n    }\n    if (!!parametroDeBusqueda) {\n      dispatch(searchCountry(`${parametroDeBusqueda}&${paramsSearch}`));\n    } else {\n      dispatch(getAllCountries(`?${paramsSearch}`));\n    }\n  }, [\n    dispatch,\n    query.pagina,\n    parametroDeBusqueda,\n    orden,\n    tipoDeOrden,\n    subRegion,\n    temporada,\n  ]);\n\n  // useEffect(() => {\n\n  //   if (numeroDePagina > 20) {\n  //     dispatch(\n  //       getAllCountries(\n  //         `?pagina=${query.pagina}&order=${query.order}&tipoOrder=${query.tipoOrder}&continente=${query.continente}&tipoDeTurismo=${query.tipoDeTurismo}`\n  //       )\n  //     );\n  //   } else {\n  //     dispatch(\n  //       searchCountry(\n  //         `${parametroDeBusqueda}&pagina=${query.pagina}&order=${query.order}&tipoOrder=${query.tipoOrder}&continente=${query.continente}&tipoDeTurismo=${query.tipoDeTurismo}}`\n  //       )\n  //     );\n  //   }\n  // }, [dispatch, numeroDePagina, paginaActual, query]);\n\n  const changePage = (pagina) => {\n    setQuery((prevState) => {\n      return {\n        ...prevState,\n        pagina,\n      };\n    });\n    dispatch(cambioDePagina(pagina - 1));\n  };\n\n  return (\n    <div className=\"cardDetailCatalogo\">\n      <div className=\"cardBoxConten\">\n        {dataCountry?.rows?.map((country) => {\n          return <Card key={country.id} props={country} />;\n        })}\n        {!dataCountry.count && (\n          <div>\n            <Error />\n          </div>\n        )}\n      </div>\n      <div className=\"boxButtonPage\">\n        {paginado?.map((page) => {\n          return (\n            <button\n              id=\"PaginaActual\"\n              onClick={() => changePage(page)}\n              style={{\n                color: ` ${page === paginaActual + 1 ? \"#fff\" : \"#000\"}`,\n              }}\n            >\n              {page}\n            </button>\n          );\n        })}\n      </div>\n      <div className=\"boxButtonFilter\">\n        <button\n          onClick={() => setOrden(\"asc\")}\n          className={`${orden === \"asc\" ? \"filterSelect\" : \"bottonFiltro\"}`}\n        >\n          Ascendente ⇧\n        </button>\n        <button\n          onClick={() => setOrden(\"desc\")}\n          className={`${orden === \"desc\" ? \"filterSelect\" : \"bottonFiltro\"}`}\n        >\n          Descendente ⇩\n        </button>\n\n        <button\n          onClick={() => setTipoDeOrden(\"population\")}\n          className={`${\n            tipoDeOrden === \"population\" ? \"filterSelect\" : \"bottonFiltro\"\n          }`}\n        >\n          Poblacion\n        </button>\n        <button\n          onClick={() => setTipoDeOrden(\"name\")}\n          className={`${\n            tipoDeOrden === \"name\" ? \"filterSelect\" : \"bottonFiltro\"\n          }`}\n        >\n          Nombre\n        </button>\n      </div>\n      <select\n        id=\"continentes\"\n        name=\"continentes\"\n        value={subRegion}\n        onChange={(e) => setSubRegion(e.target.value)}\n      >\n        <option value={null}></option>\n        {subRegiones.map((subRegion) => {\n          return (\n            <option id=\"opcContienente\" value={subRegion}>\n              {subRegion}\n            </option>\n          );\n        })}\n      </select>\n      <select\n        id=\"temporadaC\"\n        name=\"season\"\n        value={temporada}\n        onChange={(e) => setTemporada(e.target.value)}\n      >\n        <option id=\"opcTemporada\" value={null}></option>\n        <option id=\"opcTemporada\" value=\"verano\">\n          Verano\n        </option>\n        <option id=\"opcTemporada\" value=\"otoño\">\n          Otoño\n        </option>\n        <option id=\"opcTemporada\" value=\"invierno\">\n          Invierno\n        </option>\n        <option id=\"opcTemporada\" value=\"primavera\">\n          Primavera\n        </option>\n      </select>\n    </div>\n  );\n};\n\nexport default Catalogue;\n"]},"metadata":{},"sourceType":"module"}